var assert = require('assert');
var util = require('util');
var Schema = require('jugglingdb').Schema;
var db = new Schema('redis', {});

var Model = db.define('Model', {
    type: String,
    name: String,
    age: Number
});

var m = new Model({name: '{"property": true}'});
m.save(function (err, mm) {
    assert.ok(!err);
    assert.equal(mm.name, '{"property": true}');
    Model.find(mm.id, function (err, mmm) {
        assert.ok(!err);
        assert.equal(typeof mmm.name, 'string');
        assert.equal(mmm.name, '{"property": true}');
    });
});
